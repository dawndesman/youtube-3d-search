def get_region_id(self):
		country = self.request.headers.get('X-AppEngine-Country')
		if (country not in ['AR','AU','AT','BE','BR','CA','CL','CO','CZ','EG','FR','DE','GB','HK','HU','IN','IE','IL','IT','JP','JO','MY','MX','MA','NL','NZ','PE','PH','PL','RU','SA','SG','ZA','KR','ES','SE','CH','TW','AE']):
			return 'US'
		else:
			return country
			
code_to_country = dict()
code_to_country['AF'] = 'Afghanistan'
code_to_country['AL'] = 'Albania'
code_to_country['DZ'] = 'Algeria'
code_to_country['AS'] = 'American Samoa'
code_to_country['AD'] = 'Andorra'
code_to_country['AO'] = 'Angola'
code_to_country['AI'] = 'Anguilla'
code_to_country['AQ'] = 'Antarctica'
code_to_country['AG'] = 'Antigua and Barbuda'
code_to_country['AR'] = 'Argentina'
code_to_country['AM'] = 'Armenia'
code_to_country['AW'] = 'Aruba'
code_to_country['AU'] = 'Australia'
code_to_country['AT'] = 'Austria'
code_to_country['AZ'] = 'Azerbaijan'
code_to_country['BS'] = 'Bahamas'
code_to_country['BH'] = 'Bahrain'
code_to_country['BD'] = 'Bangladesh'
code_to_country['BB'] = 'Barbados'
code_to_country['BY'] = 'Belarus'
code_to_country['BE'] = 'Belgium'
code_to_country['BZ'] = 'Belize'
code_to_country['BJ'] = 'Benin'
code_to_country['BM'] = 'Bermuda'
code_to_country['BT'] = 'Bhutan'
code_to_country['BO'] = 'Bolivia'
code_to_country['BA'] = 'Bosnia and Herzegovina'
code_to_country['BW'] = 'Botswana'
code_to_country['BV'] = 'Bouvet Island'
code_to_country['BR'] = 'Brazil'
code_to_country['IO'] = 'British Indian Ocean Territory'
code_to_country['BN'] = 'Brunei Darussalam'
code_to_country['BG'] = 'Bulgaria'
code_to_country['BF'] = 'Burkina Faso'
code_to_country['BI'] = 'Burundi'
code_to_country['KH'] = 'Cambodia'
code_to_country['CM'] = 'Cameroon'
code_to_country['CA'] = 'Canada'
code_to_country['CV'] = 'Cape Verde'
code_to_country['KY'] = 'Cayman Islands'
code_to_country['CF'] = 'Central African Republic'
code_to_country['TD'] = 'Chad'
code_to_country['CL'] = 'Chile'
code_to_country['CN'] = 'China'
code_to_country['CX'] = 'Christmas Island'
code_to_country['CC'] = 'Cocos (Keeling) Islands'
code_to_country['CO'] = 'Colombia'
code_to_country['KM'] = 'Comoros'
code_to_country['CG'] = 'Congo'
code_to_country['CD'] = 'Congo'
code_to_country['CK'] = 'Cook Islands'
code_to_country['CR'] = 'Costa Rica'
code_to_country['HR'] = 'Croatia'
code_to_country['CU'] = 'Cuba'
code_to_country['CY'] = 'Cyprus'
code_to_country['CZ'] = 'Czech Republic'
code_to_country['DK'] = 'Denmark'
code_to_country['DJ'] = 'Djibouti'
code_to_country['DM'] = 'Dominica'
code_to_country['DO'] = 'Dominican Republic'
code_to_country['EC'] = 'Ecuador'
code_to_country['EG'] = 'Egypt'
code_to_country['SV'] = 'El Salvador'
code_to_country['GQ'] = 'Equatorial Guinea'
code_to_country['ER'] = 'Eritrea'
code_to_country['EE'] = 'Estonia'
code_to_country['ET'] = 'Ethiopia'
code_to_country['FK'] = 'Falkland Islands (Malvinas)'
code_to_country['FO'] = 'Faroe Islands'
code_to_country['FJ'] = 'Fiji'
code_to_country['FI'] = 'Finland'
code_to_country['FR'] = 'France'
code_to_country['GF'] = 'French Guiana'
code_to_country['PF'] = 'French Polynesia'
code_to_country['TF'] = 'French Southern Territories'
code_to_country['GA'] = 'Gabon'
code_to_country['GM'] = 'Gambia'
code_to_country['GE'] = 'Georgia'
code_to_country['DE'] = 'Germany'
code_to_country['GH'] = 'Ghana'
code_to_country['GI'] = 'Gibraltar'
code_to_country['GR'] = 'Greece'
code_to_country['GL'] = 'Greenland'
code_to_country['GD'] = 'Grenada'
code_to_country['GP'] = 'Guadeloupe'
code_to_country['GU'] = 'Guam'
code_to_country['GT'] = 'Guatemala'
code_to_country['GG'] = 'Guernsey'
code_to_country['GN'] = 'Guinea'
code_to_country['GW'] = 'Guinea-Bissau'
code_to_country['GY'] = 'Guyana'
code_to_country['HT'] = 'Haiti'
code_to_country['HM'] = 'Heard Island and McDonald Islands'
code_to_country['VA'] = 'Holy See (Vatican City State)'
code_to_country['HN'] = 'Honduras'
code_to_country['HK'] = 'Hong Kong'
code_to_country['HU'] = 'Hungary'
code_to_country['IS'] = 'Iceland'
code_to_country['IN'] = 'India'
code_to_country['ID'] = 'Indonesia'
code_to_country['IR'] = 'Iran, Islamic Republic of'
code_to_country['IQ'] = 'Iraq'
code_to_country['IE'] = 'Ireland'
code_to_country['IM'] = 'Isle of Man'
code_to_country['IL'] = 'Israel'
code_to_country['IT'] = 'Italy'
code_to_country['JM'] = 'Jamaica'
code_to_country['JP'] = 'Japan'
code_to_country['JE'] = 'Jersey'
code_to_country['JO'] = 'Jordan'
code_to_country['KZ'] = 'Kazakhstan'
code_to_country['KE'] = 'Kenya'
code_to_country['KI'] = 'Kiribati'
code_to_country['KP'] = 'Korea'
code_to_country['KR'] = 'Korea'
code_to_country['KW'] = 'Kuwait'
code_to_country['KG'] = 'Kyrgyzstan'
code_to_country['LA'] = 'Lao'
code_to_country['LV'] = 'Latvia'
code_to_country['LB'] = 'Lebanon'
code_to_country['LS'] = 'Lesotho'
code_to_country['LR'] = 'Liberia'
code_to_country['LY'] = 'Libyan Arab Jamahiriya'
code_to_country['LI'] = 'Liechtenstein'
code_to_country['LT'] = 'Lithuania'
code_to_country['LU'] = 'Luxembourg'
code_to_country['MO'] = 'Macao'
code_to_country['MK'] = 'Macedonia, the former Yugoslav Republic of'
code_to_country['MG'] = 'Madagascar'
code_to_country['MW'] = 'Malawi'
code_to_country['MY'] = 'Malaysia'
code_to_country['MV'] = 'Maldives'
code_to_country['ML'] = 'Mali'
code_to_country['MT'] = 'Malta'
code_to_country['MH'] = 'Marshall Islands'
code_to_country['MQ'] = 'Martinique'
code_to_country['MR'] = 'Mauritania'
code_to_country['MU'] = 'Mauritius'
code_to_country['YT'] = 'Mayotte'
code_to_country['MX'] = 'Mexico'
code_to_country['FM'] = 'Micronesia, Federated States of'
code_to_country['MD'] = 'Moldova, Republic of'
code_to_country['MC'] = 'Monaco'
code_to_country['MN'] = 'Mongolia'
code_to_country['ME'] = 'Montenegro'
code_to_country['MS'] = 'Montserrat'
code_to_country['MA'] = 'Morocco'
code_to_country['MZ'] = 'Mozambique'
code_to_country['MM'] = 'Myanmar'
code_to_country['NA'] = 'Namibia'
code_to_country['NR'] = 'Nauru'
code_to_country['NP'] = 'Nepal'
code_to_country['NL'] = 'Netherlands'
code_to_country['AN'] = 'Netherlands Antilles'
code_to_country['NC'] = 'New Caledonia'
code_to_country['NZ'] = 'New Zealand'
code_to_country['NI'] = 'Nicaragua'
code_to_country['NE'] = 'Niger'
code_to_country['NG'] = 'Nigeria'
code_to_country['NU'] = 'Niue'
code_to_country['NF'] = 'Norfolk Island'
code_to_country['MP'] = 'Northern Mariana Islands'
code_to_country['NO'] = 'Norway'
code_to_country['OM'] = 'Oman'
code_to_country['PK'] = 'Pakistan'
code_to_country['PW'] = 'Palau'
code_to_country['PS'] = 'Palestinian Territory, Occupied'
code_to_country['PA'] = 'Panama'
code_to_country['PG'] = 'Papua New Guinea'
code_to_country['PY'] = 'Paraguay'
code_to_country['PE'] = 'Peru'
code_to_country['PH'] = 'Philippines'
code_to_country['PN'] = 'Pitcairn'
code_to_country['PL'] = 'Poland'
code_to_country['PT'] = 'Portugal'
code_to_country['PR'] = 'Puerto Rico'
code_to_country['QA'] = 'Qatar'
code_to_country['RO'] = 'Romania'
code_to_country['RU'] = 'Russian Federation'
code_to_country['RW'] = 'Rwanda'
code_to_country['SH'] = 'Saint Helena, Ascension and Tristan da Cunha'
code_to_country['KN'] = 'Saint Kitts and Nevis'
code_to_country['LC'] = 'Saint Lucia'
code_to_country['MF'] = 'Saint Martin (French part)'
code_to_country['PM'] = 'Saint Pierre and Miquelon'
code_to_country['VC'] = 'Saint Vincent and the Grenadines'
code_to_country['WS'] = 'Samoa'
code_to_country['SM'] = 'San Marino'
code_to_country['ST'] = 'Sao Tome and Principe'
code_to_country['SA'] = 'Saudi Arabia'
code_to_country['SN'] = 'Senegal'
code_to_country['RS'] = 'Serbia'
code_to_country['SC'] = 'Seychelles'
code_to_country['SL'] = 'Sierra Leone'
code_to_country['SG'] = 'Singapore'
code_to_country['SK'] = 'Slovakia'
code_to_country['SI'] = 'Slovenia'
code_to_country['SB'] = 'Solomon Islands'
code_to_country['SO'] = 'Somalia'
code_to_country['ZA'] = 'South Africa'
code_to_country['GS'] = 'South Georgia and the South Sandwich Islands'
code_to_country['ES'] = 'Spain'
code_to_country['LK'] = 'Sri Lanka'
code_to_country['SD'] = 'Sudan'
code_to_country['SR'] = 'Suriname'
code_to_country['SJ'] = 'Svalbard and Jan Mayen'
code_to_country['SZ'] = 'Swaziland'
code_to_country['SE'] = 'Sweden'
code_to_country['CH'] = 'Switzerland'
code_to_country['SY'] = 'Syrian Arab Republic'
code_to_country['TW'] = 'Taiwan, Province of China'
code_to_country['TJ'] = 'Tajikistan'
code_to_country['TZ'] = 'Tanzania, United Republic of'
code_to_country['TH'] = 'Thailand'
code_to_country['TL'] = 'Timor-Leste'
code_to_country['TG'] = 'Togo'
code_to_country['TK'] = 'Tokelau'
code_to_country['TO'] = 'Tonga'
code_to_country['TT'] = 'Trinidad and Tobago'
code_to_country['TN'] = 'Tunisia'
code_to_country['TR'] = 'Turkey'
code_to_country['TM'] = 'Turkmenistan'
code_to_country['TC'] = 'Turks and Caicos Islands'
code_to_country['TV'] = 'Tuvalu'
code_to_country['UG'] = 'Uganda'
code_to_country['UA'] = 'Ukraine'
code_to_country['AE'] = 'United Arab Emirates'
code_to_country['GB'] = 'United Kingdom'
code_to_country['US'] = 'United States'
code_to_country['UM'] = 'United States Minor Outlying Islands'
code_to_country['UY'] = 'Uruguay'
code_to_country['UZ'] = 'Uzbekistan'
code_to_country['VU'] = 'Vanuatu'
code_to_country['VE'] = 'Venezuela, Bolivarian Republic of'
code_to_country['VN'] = 'Viet Nam'
code_to_country['VG'] = 'Virgin Islands, British'
code_to_country['VI'] = 'Virgin Islands, U.S.'
code_to_country['WF'] = 'Wallis and Futuna'
code_to_country['EH'] = 'Western Sahara'
code_to_country['YE'] = 'Yemen'
code_to_country['ZM'] = 'Zambia'
code_to_country['ZW'] = 'Zimbabwe'
